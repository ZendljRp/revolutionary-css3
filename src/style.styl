*
  margin 0
  padding 0
  border 0
  font-size 100%
  font inherit
  vertical-align baseline

transition()
  -webkit-transition arguments

border-radius(n)
  -webkit-border-radius n

transform()
  -webkit-transform arguments

box-orient()
  -webkit-box-orient arguments

box-flex()
  -webkit-box-flex arguments

box-align()
  -webkit-box-align arguments

box-pack()
  -webkit-box-pack arguments

box-reflect()
  -webkit-box-reflect arguments

lightestred = #FE6F66
lighterred = #EC625A
lightred = #e9463c
red = #f00
darkred = #993832
darkgrey = #555
lightblue = #3c96e9

body
  font-family Telex, sans-serif
  color darkgrey
  background-image url('ui/light_wool.png')

::selection
  background lightestred

a
  color inherit
  text-decoration none
  transition .25s
  &:hover
    color lightred

.step
  position relative
  width 900px
  -webkit-box-sizing border-box
  font-size 48px
  line-height 1.5
  opacity .05
  transition opacity .5s

  &.active
    opacity 1

  & > h2
    font-size 60%
    text-align right
    border-right 6px solid darkgrey
    margin-bottom 2em
    padding-right 1em
    text-transform capitalize

#title
  text-align center
  h1
    border-top 3px solid lightred
    border-bottom 3px solid lightred
    padding 1em 0
    text-transform uppercase
    span
      display inline-block
      margin
    .article
      letter-spacing 285px
      margin-right -285px
    .adj
      letter-spacing 39px
      margin-right -39px
      font-size 50%
      color lightred
    .noun
      font-size 570%
      line-height 100%
  .subtitle
    font-size 50%
    margin-top 3em

#impact
  p
    font-size 54%

#impact-old
  p
    margin 2em 0
    font-size 75%
    em
      font-size 150%
    .problem
      text-decoration line-through

  .problem
    color lightred

  .animation em
    display inline-block
    -webkit-animation-name swing-anim
    -webkit-animation-duration 1s
    -webkit-animation-iteration-count infinite
    -webkit-animation-timing-function ease-in-out
    -webkit-animation-direction alternate

  .visual em
    display inline-block
    background-image url('ui/low_contrast_linen.png')
    overflow hidden
    padding 12px 27px
    border-radius 21px
    //border 12px solid #fff
    color #fff
    text-shadow 0 0 10px #fff, 0 0 20px #fff, 0 0 30px red, 0 0 40px red, 0 0 70px red, 0 0 80px red, 0 0 100px #ff00de, 0 0 150px red
    box-shadow inset 0 0 12px rgba(0, 0, 0, .75)

@-webkit-keyframes swing-anim
  from
    transform rotate(-15deg)
  to
    transform rotate(15deg)

#how
  &:not(.present)
    opacity 0.02
  .how
    font-size 550%
    line-height .8em
    text-align center
    text-transform uppercase

doraemon-border()
  border darkgrey 3px solid

#border-radius
  .doraemon
    margin auto

    *
      -webkit-box-sizing border-box
      transition border-radius .25s ease-out

    .face
      position relative
      width 600px
      height 600px
      background lightblue
      doraemon-border()
      margin auto
      z-index 0
      &:hover
        border-radius 300px

      & > *
        position absolute

      .base-white
        doraemon-border()
        width 510px
        height 392px
        background #FFF
        z-index 1
        bottom 45px
        left 45px
      &:hover .base-white
        border-radius 300px

      .eye
        doraemon-border()
        width 144px
        height 165px
        top 90px
        z-index 20
        background #fff
      .eye-left
        left 154px
      .eye-right
        top 90px
        right 154px
      &:hover .eye
        border-radius 75px

      .black-eye
        position absolute
        width 30px
        height 30px
        background darkgrey
        bottom 45px
        z-index 21
      .black-left
        right 27px
      .black-right
        left 27px
      &:hover .black-eye
        border-radius 15px

      .nose
        width 66px
        height 66px
        doraemon-border()
        background lightred
        top 234px
        left 264px
        z-index 30
        .nose-line
          position absolute
          background darkgrey
          width 4px
          height 165px
          top 63px
          left 29px
          z-index 20
      &:hover .nose
        border-radius 33px

      .mouth
        width 420px
        height 900px
        border-bottom 4px solid darkgrey
        bottom 126px
        left 90px
        z-index 10
      &:hover .mouth
        border-radius 150px

      .whiskers
        background darkgrey
        height 2px
        width 111px
        z-index 20
      .whi-left
        left 117px
      .whi-right
        right 117px
      .whi-top
        bottom 318px
      .whi-mid
        bottom 279px
      .whi-bottom
        bottom 240px
      .whi-left.whi-top,
      .whi-right.whi-bottom
        transform rotate(10deg)
      .whi-left.whi-bottom,
      .whi-right.whi-top
        transform rotate(-10deg)

#gradient
  .apple-nav
    width 900px
    height 45px
    background-image -webkit-gradient(linear, 0 100%, 0 0, from(#666), color-stop(0.5, #5e5e5e), color-stop(0.51, #707070), to(gray))
    border-radius 12px
  .radial
    width 600px
    height 240px
    margin 1em auto
    border-radius 12px
    background-image -webkit-radial-gradient(75% 25%, circle cover, lightestred, lightred)
    box-shadow 0 0 6px darkred

#shadows
  .inset
    -webkit-box-sizing border-box
    border-radius 12px
    margin auto
    width 900px
    height 300px
    background-image url('ui/low_contrast_linen.png')
    box-shadow inset 0 24px 60px rgba(0, 0, 0, .75)
    color #222
    text-shadow 0 1px 0 rgba(255, 255, 255, .15)
    padding 75px 225px

#google-lofter
  & > .box
    float left
    width 50%
    text-align center

    .content
      display -webkit-box
      box-align center
      box-pack center
      box-orient horizontal
      height 450px

      .google-button
        -webkit-user-select none
        margin 12px auto
        font-size 30px
        color white
        text-transform uppercase
        text-shadow 0 2px rgba(0, 0, 0, 0.25)
        border-radius 6px
        padding 12px
        width 300px
        display inline-block
        cursor pointer
        background-image -webkit-linear-gradient(top, #dd4b39, #d14836)
        border 1px solid transparent
        &:hover
          background-image -webkit-linear-gradient(top, #dd4b39, #c53727)
          border 1px solid #b0281a
          box-shadow 0 3px 3px rgba(0,0,0,0.2)
        &:active
          background-image -webkit-linear-gradient(top, #dd4b39, #b0281a)
          border 1px solid #992a1b
          box-shadow inset 0 3px 6px rgba(0, 0, 0, 0.3)

#opacity
  .renren-button
    -webkit-user-select none
    width 390px
    height 60px
    margin 0 auto
    box-shadow 0 0 6px rgba(0, 0, 0, .25)
    border-radius 3px
    background-color #f7f7f7
    transition background-color .3s ease-out
    cursor pointer
    &:hover
      background-color #fafafa

    & > div
      opacity .2
      transition opacity .3s ease-out
      float left
    &:hover > div
      opacity .7

    .renren-button-icon
      width 60px
      height 60px
      background-repeat no-repeat
      background-position 19px 14px
      background-image url('img/renren-button-icon.png')
    
    .renren-button-text
      color black
      height 60px
      width 330px
      text-align center
      padding 9px 12px
      border-left 3px solid #DDD
      font-size 30px
      -webkit-box-sizing border-box

#opacity-image
  .image-wrapper
    position relative
    margin 0 auto
    width 500px
    height 500px
    box-shadow 0 0 9px rgba(0, 0, 0, .75)
    .caption
      position absolute
      left 0
      bottom 43px
      background-color rgba(0, 0, 0, .45)
      color #f0f0f0
      padding 0 12px 0 51px
      font-size 75%

#reflect
  .content
    height 555px
    .ibooks-wrapper
      text-align center
      -webkit-box-reflect: below -36px -webkit-gradient(linear, 0 100%, 0 90%, from(rgba(255, 255, 255, 0.75)), to(transparent))
      img
        box-shadow 0 6px 12px rgba(0, 0, 0, .75)
        border-radius 90px

#transform
  & > h2
    transform translate(-300px, 390px) rotate(-90deg)
  .content
    margin 0 0 0 240px
    &::after
      content ''
      clear both
      display none
    .tag
      display inline-block
      margin 0 0 6px 54px
      position relative
      font-size .35em
      font-weight bold
      color darkred
      text-transform lowercase
      text-shadow 0 1px 0 rgba(255, 255, 255, .4)
      padding .417em .417em .417em 1.2em
      border-top 1px solid darkred
      border-right 1px solid darkred
      border-bottom 1px solid darkred
      border-radius 0 .25em .25em 0
      background-image -webkit-linear-gradient(top, lightestred, lighterred)
      z-index 10

      &:before
        content ''
        width 1.66em
        height 1.66em
        left -.84em
        top .33em
        background-image -webkit-linear-gradient(left top, lightestred, lighterred)
        position absolute
        transform rotate(45deg)
        border-left 1px solid darkred
        border-bottom 1px solid darkred
        border-radius 0 0 0 .25em

      &:after
        content ''
        position absolute
        width .5em
        height .5em
        top .91em
        left 0
        background white
        border-radius .25em
        border 1px solid darkred
        box-shadow 0 1px 0 rgba(255, 255, 255, .6)
        z-index 9999

#animation
  .spinner
    position relative
    width 340px
    height 340px
    margin 0 auto

    .spinner-dot
      position absolute
      background-color transparent
      height 60px
      width 60px
      border-radius 20px
      -webkit-animation-name spinning-anim
      -webkit-animation-duration 1.04s
      -webkit-animation-iteration-count infinite
      -webkit-animation-direction linear

      &:nth-child(1)
        left 0
        top 140px
        -webkit-animation-delay 0.39s

      &:nth-child(2)
        left 40px
        top 40px
        -webkit-animation-delay 0.52s

      &:nth-child(3)
        left 140px
        top 0
        -webkit-animation-delay 0.65s

      &:nth-child(4)
        right 40px
        top 40px
        -webkit-animation-delay 0.78s

      &:nth-child(5)
        right 0
        top 140px
        -webkit-animation-delay 0.91s

      &:nth-child(6)
        right 40px
        bottom 40px
        -webkit-animation-delay 1.04s

      &:nth-child(7)
        left 140px
        bottom 0
        -webkit-animation-delay 1.17s

      &:nth-child(8)
        left 40px
        bottom 40px
        -webkit-animation-delay 1.3s

@-webkit-keyframes spinning-anim
  0%
    background-color darkgrey
  100%
    background-color transparent

#end
  .credits
    a
      font-weight bold
    h2
      line-height 2em
      border-bottom 1px solid lightred
      margin-bottom 1.5em
      font-size 50%
      width 60%
      margin-left 20%
      text-align center
      .title
        font-size 150%
    p
      font-size 50%
      line-height 2em
      text-align center

  .css3-logo-wrapper
    margin-top 1em
    text-align center

.non-chrome
  width 800px
  margin 150px auto
  font-size 20px
  line-height 200%
  text-align center
  a
    font-weight bold